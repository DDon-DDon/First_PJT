# 구현 단계별 체크리스트

태스크 유형별 구현 단계 체크리스트. 구현 계획 작성 시 참고.

## API 엔드포인트 구현

### GET (조회) 엔드포인트
```markdown
## 구현 단계

### 1단계: Response 스키마
- [ ] Pydantic 모델 정의
- [ ] 필드 타입 및 설명 추가
- [ ] 예시 값 추가 (json_schema_extra)

### 2단계: 서비스 메서드
- [ ] Repository/DB 조회 로직
- [ ] 비즈니스 로직 (필터링, 변환)
- [ ] 에러 처리 (NotFound 등)

### 3단계: 라우터
- [ ] 엔드포인트 정의
- [ ] Path/Query 파라미터 정의
- [ ] 응답 모델 및 상태 코드
- [ ] OpenAPI 문서화 (summary, description)

### 4단계: 테스트
- [ ] 정상 조회 케이스
- [ ] 빈 결과 케이스
- [ ] 잘못된 파라미터 케이스
```

### POST (생성) 엔드포인트
```markdown
## 구현 단계

### 1단계: Request/Response 스키마
- [ ] Request 스키마 (입력 검증)
- [ ] Response 스키마 (생성 결과)
- [ ] 필드 검증 규칙 (min, max, pattern)

### 2단계: 서비스 메서드
- [ ] 중복 체크 로직 (필요시)
- [ ] 생성 로직
- [ ] 트랜잭션 처리

### 3단계: 라우터
- [ ] 엔드포인트 정의
- [ ] 201 Created 응답
- [ ] 에러 응답 (400, 409)

### 4단계: 테스트
- [ ] 정상 생성 케이스
- [ ] 유효성 검증 실패 케이스
- [ ] 중복 데이터 케이스
```

### PUT/PATCH (수정) 엔드포인트
```markdown
## 구현 단계

### 1단계: Request 스키마
- [ ] 수정 가능 필드 정의
- [ ] Optional 필드 처리 (PATCH)

### 2단계: 서비스 메서드
- [ ] 존재 여부 확인
- [ ] 부분 업데이트 로직 (PATCH)
- [ ] 낙관적 락 (필요시)

### 3단계: 라우터
- [ ] 엔드포인트 정의
- [ ] 404 Not Found 처리

### 4단계: 테스트
- [ ] 정상 수정 케이스
- [ ] 존재하지 않는 리소스
- [ ] 부분 수정 (PATCH)
```

## 서비스 로직 구현

### 비즈니스 로직 메서드
```markdown
## 구현 단계

### 1단계: 인터페이스 설계
- [ ] 메서드 시그니처 정의
- [ ] 입력/출력 타입
- [ ] 예외 타입 정의

### 2단계: 핵심 로직
- [ ] Happy path 구현
- [ ] 에러 케이스 처리
- [ ] 로깅 추가

### 3단계: 단위 테스트
- [ ] 정상 케이스
- [ ] 경계값 케이스
- [ ] 에러 케이스
```

### 외부 API 연동
```markdown
## 구현 단계

### 1단계: 클라이언트 클래스
- [ ] HTTP 클라이언트 설정
- [ ] 기본 URL, 헤더 설정
- [ ] Timeout 설정

### 2단계: 요청/응답 스키마
- [ ] 요청 데이터 스키마
- [ ] 응답 데이터 스키마
- [ ] 에러 응답 스키마

### 3단계: API 메서드
- [ ] 요청 메서드 구현
- [ ] 응답 파싱
- [ ] 에러 처리 (HTTP 에러, 타임아웃)

### 4단계: 테스트
- [ ] Mock을 이용한 단위 테스트
- [ ] 에러 시나리오 테스트
```

## DB 관련 구현

### 새 모델 추가
```markdown
## 구현 단계

### 1단계: 모델 정의
- [ ] SQLAlchemy 모델 클래스
- [ ] 컬럼 정의 (타입, 제약조건)
- [ ] 관계 정의 (relationship)
- [ ] 인덱스 정의

### 2단계: 마이그레이션
- [ ] `alembic revision --autogenerate`
- [ ] 생성된 마이그레이션 검토
- [ ] `alembic upgrade head`
- [ ] `alembic downgrade -1` 테스트

### 3단계: Repository/CRUD
- [ ] 기본 CRUD 메서드
- [ ] 커스텀 쿼리 메서드
```

### 쿼리 최적화
```markdown
## 구현 단계

### 1단계: 현황 분석
- [ ] EXPLAIN ANALYZE 실행
- [ ] 실행 계획 분석
- [ ] N+1 문제 확인

### 2단계: 최적화 적용
- [ ] 인덱스 추가
- [ ] Eager loading 적용
- [ ] 쿼리 재작성

### 3단계: 검증
- [ ] 실행 계획 재확인
- [ ] 응답 시간 측정
- [ ] 부하 테스트
```

## 테스트 구현

### 단위 테스트 추가
```markdown
## 구현 단계

### 1단계: 테스트 파일 설정
- [ ] 파일 생성
- [ ] Fixture 정의
- [ ] Mock 설정

### 2단계: 테스트 케이스
- [ ] Happy path
- [ ] Edge cases
- [ ] Error cases

### 3단계: 실행 및 검증
- [ ] 테스트 실행
- [ ] 커버리지 확인
- [ ] 리팩토링
```

## 문서화

### API 문서 추가
```markdown
## 구현 단계

### 1단계: OpenAPI 메타데이터
- [ ] summary, description
- [ ] 파라미터 설명
- [ ] 응답 예시

### 2단계: 에러 응답 문서화
- [ ] 가능한 에러 코드
- [ ] 에러 응답 예시

### 3단계: 검증
- [ ] /docs에서 확인
- [ ] 예시 요청 테스트
```